<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Regular Expressions</title>
  </head>
  <body>
    <h2>Regular Expressions</h2>
    <p>A regular expression is a sequence of characters that forms a <b>search pattern </b>.</p>
    <p>The search pattern can be used for text search and text replace operations.</p>
    <p>
      A regular expression can be a single character, or a more complicated pattern. Regular expressions can be used to
      perform all types of text search and text replace operations.
    </p>
    <pre>
      Syntax
      /pattern/modifiers;
      Example
      /w3schools/i;
      Example explained:

      /w3schools/i  is a regular expression.
      w3schools  is a pattern (to be used in a search).
      i is a modifier (modifies the search to be case-insensitive).
    </pre>
    <h3>Using String Methods</h3>
    <p>In JavaScript, regular expressions are often used with the two string methods: search() and replace().</p>
    <p>The search() method uses an expression to search for a match, and returns the position of the match.</p>
    <p>The replace() method returns a modified string where the pattern is replaced.</p>

    <h4>Using String search() With a String</h4>
    <p>The search() method searches a string for a specified value and returns the position of the match:</p>
    <script>
      let text = "Visit W3Schools!";
      let n = text.search("W3Schools");
      document.write(n);
    </script>
    <h4>Using String search() With a Regular Expression</h4>
    <p>Use a regular expression to do a case-insensitive search for "w3schools" in a string:</p>
    <p>
      case insensitive means that it doesn't matter whether the word is in uppercase, lowercase, or mixed case. It will
      match all variations.
    </p>
    <script>
      let text2 = "Visit W3Schools";
      let n2 = text.search(/w3schools/i);
      document.write(n2);
    </script>
    <h3>Using String replace() With a String</h3>
    <p>The replace() method replaces a specified value with another value in a string:</p>
    <script>
      let myString = "Visit Microsoft!";
      let result = myString.replace("Microsoft", "W3Schools");
      document.write(result);
    </script>
    <h3>Use String replace() With a Regular Expression</h3>
    <p>Use a case insensitive regular expression to replace Microsoft with W3Schools in a string:</p>
    <script>
      let textStr = "Visit Microsoft!";
      let myResult = textStr.replace(/microsoft/i, "W3Schools");
      document.write(myResult);
    </script>
    <h2>Regular Expression Modifiers</h2>
    <p>Modifiers can be used to perform case-insensitive more global searches:</p>
    <pre>
      i	Perform case-insensitive matching	
      g	Perform a global match (find all)	
      m	Perform multiline matching	
      d	Perform start and end matching (New in ES2022)
    \b metacharacter is used for word boundaries //Matches the position before or after a word, ensuring whole-word replacements.
    </pre>
    <p>
      By default the below replace would replace only the first only replaces the first occurrence of the word, but with
      a regular expression with the g flag, It will now replace every 'string' in the line.
    </p>
    <script>
      let aString = "string in a string for string";
      let bString = aString.replace(/string/g, "text");
      document.write(bString);
      document.write("<br>");

      let text22 = "\nis th\nis  it?";
      let result2 = text22.match(/^is/m);
      document.write(result2, "<br>");
    </script>

    <p>
      The ^ symbol in regular expressions (regex) is called the 'caret' and has different meanings depending on how it
      is used.
    </p>
    <p>
      <b> No : 1 : ^ as an "Anchor" (Start of Line) </b>....When used outside of square brackets ([]), ^ matches only if
      it appears at the start of the entire string.
    </p>
    <p>Example: Match "Hello" only if it appears at the start of a string</p>

    <script>
      let caretPoint = "Hello world\nHello again";
      document.write(caretPoint.replace(/^Hello/g, "Hi"));
    </script>
    <p>
      The /m (multiline) flag allows ^ to match the start of each line:/^Hello/m Matches "Hello" at the start of each
      line (due to /m)
    </p>
    <script>
      let textCaret = "Hello world\nHello again";
      document.write(textCaret.replace(/^Hello/gm, "Hi"), "<br>");
    </script>

    <script>
      let abc = "123asdf";
      let abc2 = abc.match(/[^123]/);
      document.write(abc2, "<br>");
    </script>
    <p>
      <b>No : 2: ^ as a "Negation" Inside []</b>When used inside square brackets ([^...]), ^ negates the character set
      (matches anything except the given characters).
    </p>
    <p><b>Example: Remove all vowels</b></p>
    <script>
      let textVowels = "abcdef";
      document.write(textVowels.replace(/[^aeiou]/g, ""), "<br>"); // Removes all non-vowel characters
    </script>
    <!-- <script>
       let aaaa = "this is multiline \n\
      string in the js";
      document.write(aaaa);
    </script>
     Use \ (backslash) for line continuation:Use explicit \n for new lines: -->
    <h2>Regular Expression Patterns</h2>
    <p>Brackets are used to find a range of characters:</p>
    <pre>
       Expression	             Description	
         [abc]	     Find any of the characters between the brackets	
         [0-9]	     Find any of the digits between the brackets	
         (x|y)	     Find any of the alternatives separated with |
    </pre>
    <p>Do a global search for the character "h" in a string:</p>
    <script>
      let aText = "his this all there is?";
      let aResult = aText.match(/[h]/g);
      document.write(aResult, "<br>");

      let digits = "123456789";
      let dRes = digits.match(/[1-5]/g);
      document.write(dRes);
    </script>
    <p>Do a global search for any of the specified alternatives (red|green):</p>
    <script>
      let colors = "white, green, red, green, blue, orange, reddish, green";
      let colors2 = colors.match(/(red|green)/g);
      document.write(colors2);
    </script>
    <p><b> Metacharacters </b> are characters with a special meaning:</p>
    <pre>
      Metacharacter	            Description	
          \d	              Find a digit	
          \s	              Find a whitespace character	
          \b	             (beginning OR behind) Find a match at the beginning of a word like this: \bWORD, or at the end of a word like this: WORD\b	
          \uxxxx	      Find the Unicode character specified by the hexadecimal number xxxx
    </pre>

    <script>
      let digitStr = "Give 100%";
      let digitMatch = digitStr.match(/\d/g);
      document.write(digitMatch);
    </script>
    <p>
      In JavaScript, whitespace characters refer to spaces, tabs, newlines, and other empty characters that do not
      produce a visible mark but still occupy space in the string, as there are 5 spaces/whiteSpaces between Hello
      World.
    </p>
    <script>
      let textOne = "Hello     World!\nThis is\tJavaScript.";
      let resultOne = textOne.match(/\s/g);
      document.write(resultOne);
    </script>
    <p>Replace the characters "LO" , which is in the <b>beginning</b> of a word in the phrase:</p>
    <script>
      let myWord = "HELLOs, LOOK AT YOU!";
      let theResult = myWord.replace(/\bLO/, "Ti"); //(/LO\b/) Search for the characters "LO" in the <b>end</b> of a word in the phrase:
      document.write(theResult);
    </script>

    <h2>Quantifiers define quantities:</h2>
    <pre>
      Quantifier	             Description	
          n+	             Matches any string that contains at least one n
          n*	             Matches any string that contains zero or more occurrences of n
          n?	             Matches any string that contains zero or one occurrences of n
    </pre>
    <p>Do a global search for at least one "o" in a string:</p>
    <script>
      let thisStr = "Hellooo world, who is school";
      let thisStr2 = thisStr.match(/o+/g);
      document.write(thisStr2);
      document.write("If you only want to match k that is followed by at least one h, use + instead of *", "<br>");
      let myName = "khalid khan hkan";
      let searchMyName = myName.match(/kh+/g);
      document.write(searchMyName);
    </script>

    <p>Do a global search for an "k", followed by zero or more "h" characters:</p>
    <script>
      let name = "khalid khan hkan";
      let searchMe = name.match(/kh*/g); //h* ‚Üí Matches zero or more occurrences of "h" (meaning it can match an empty string if "h" is not present). **k**an" ‚Üí Matches "k" (because "h*" allows zero occurrences of "h").
      document.write(searchMe);
    </script>

    <p>Do a global search for a "1", followed by zero or one "0" characters:</p>
    <script>
      let thisDigits = "1, 10, 22, 100, 33, 1000";
      let myDigits = thisDigits.match(/10?/g);
      document.write(myDigits);
    </script>
    <h2>Using the RegExp Object</h2>
    <p>In JavaScript, the RegExp object is a regular expression object with predefined properties and methods.</p>
    <h4>test() method</h4>
    <p>
      The test() method is a RegExp expression method. It searches a string for a pattern, and returns true or false,
      depending on the result.
    </p>
    <p>The following example searches a string for the character "e".</p>

    <script>
      const pattern = /t/;
      document.write(pattern.test("The best things in life are free!"));
    </script>
    <h4>exec() Method (execute)</h4>
    <p>
      It searches a string for a specified pattern, and returns an array (array-like object) with details when there is
      a match, or null if no match is found..
    </p>
    <pre>
      Syntax:
    regex.exec(string)
    </pre>
    <script>
      let execText = "Hello, my name is Khalid , i am with khalid";
      let regex = /Khalid/;
      let urResult = regex.exec(execText);
      document.write(urResult);
      console.log(urResult); // Logs the full match object
    </script>
    <pre>
      Alternative: match() vs. exec()
        exec() is used on RegExp objects (regName.exec(nameStr))
        match() is used on strings (nameStr.match(regName))
    </pre>
    <pre>
        So, exec() returns an array with the following properties:
          [0] ‚Üí The matched string ("Ismail")
          index ‚Üí The position where the match starts (12)
          input ‚Üí The original string
          groups ‚Üí If there were named capturing groups (undefined in this case)
    </pre>
    <h3>w in regex</h3>
    <p>\w stands for "word character" in regular expressions.</p>
    <pre>
      üîπ \w Includes:
‚úî Letters (A-Z, a-z)
‚úî Digits (0-9)
‚úî Underscore (_)
    </pre>
    <pre>
      ‚ùå \w Does NOT Include:
üö´ Spaces ( )
üö´ Punctuation (.,!?)
üö´ Special characters (@#$%^&*)
    </pre>
    <pre>
      const text = "Hello_123$#!";
const regex = /\w+/g;
console.log(text.match(regex)); // Output: ["Hello_123"]

It matches "Hello_123" (letters, numbers, and underscore).
It ignores "$#!" because punctuation is not part of \w.
    </pre>
  </body>
</html>
